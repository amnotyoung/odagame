# KOICA 소장 시뮬레이터

텍스트 기반 선택형 게임 - 당신의 결정이 미래를 만듭니다

## 게임 소개

당신은 KOICA(한국국제협력단) 해외사무소의 새로운 소장으로 부임했습니다. 앞으로 2년(8분기) 동안 다양한 실무 상황에 직면하게 되며, 당신의 선택에 따라 프로젝트의 성공, 직원들의 사기, 그리고 국제 협력의 미래가 결정됩니다.

**플레이타임**: 30분 ~ 1시간

## 🎮 게임 모드

### 1. 클래식 모드 (기본)
- 20개 이상의 사전 제작된 시나리오
- 전통적인 선택형 게임플레이
- 추가 패키지 설치 불필요

### 2. AI 모드 (NEW! 🤖)
**Gemini API 연동으로 무한한 가능성을 경험하세요!**
- ✨ **동적 시나리오 생성**: 당신의 플레이 스타일에 맞춘 맞춤형 시나리오
- 🎯 **적응형 난이도**: 현재 스탯 상태를 분석하여 적절한 도전 제공
- 💡 **자유 입력 모드**: 원하는 행동을 직접 입력하고 AI가 결과 판정
- 📊 **플레이어 분석**: 당신의 선택 패턴과 성향 분석
- 🏆 **개인화된 엔딩**: 당신만의 여정을 반영한 맞춤형 엔딩

## 게임 특징

### 다양한 선택과 결과
- 클래식: 20개 이상의 시나리오
- AI 모드: 무한한 동적 시나리오
- 각 선택마다 다른 결과와 후속 스토리
- 여러 엔딩 (성공, 실패, 특별 엔딩 등)

### 복합적인 게임 스탯
게임 진행 중 4가지 주요 지표를 관리해야 합니다:

- **평판 (Reputation)**: 국제사회, 정부, 현지 주민과의 관계
- **예산 (Budget)**: 프로젝트 운영에 필요한 재정
- **직원 만족도 (Staff Morale)**: 팀원들의 사기와 동기부여
- **프로젝트 성공도 (Project Success)**: 사업의 품질과 효과

### 현실적인 딜레마
- 부정부패 문제
- 문화적 갈등
- 예산 압박
- 긴급 상황 대응
- 직원 관리
- 이해관계자 조율

## 설치 및 실행

### 요구사항
- Python 3.6 이상
- (선택) AI 모드 사용시: google-generativeai 패키지

### 설치

#### 클래식 모드만 사용하는 경우
추가 설치 불필요 - Python만 있으면 됩니다!

#### AI 모드를 사용하는 경우

1. 의존성 패키지 설치:
```bash
pip install -r requirements.txt
```

또는:
```bash
pip install google-generativeai
```

2. Gemini API 키 발급:
   - https://makersuite.google.com/app/apikey 방문
   - Google 계정으로 로그인
   - API 키 생성

3. (선택) 환경변수 설정:
```bash
export GEMINI_API_KEY="your_api_key_here"
```

또는 `.env` 파일 생성:
```bash
cp .env.example .env
# .env 파일을 열어서 API 키 입력
```

### 실행 방법

```bash
python3 koica_game.py
```

또는 실행 권한을 부여한 후:

```bash
chmod +x koica_game.py
./koica_game.py
```

게임 시작시 모드를 선택할 수 있습니다:
- **1번**: 클래식 모드 (기본 시나리오)
- **2번**: AI 모드 (Gemini 연동)

## 게임 방법

### 클래식 모드
1. 각 상황에서 제시되는 선택지를 읽습니다
2. 번호를 입력하여 선택합니다
3. 선택의 결과를 확인하고 다음 상황으로 진행합니다
4. 화면 상단의 스탯을 주시하며 균형을 유지합니다

### AI 모드 (추가 기능)
- 모든 클래식 모드 기능 포함
- **자유 입력 옵션**: 선택지 목록 하단에 "직접 행동 입력하기" 옵션 표시
  - 예: "현지 부족장들과 비공식 회의를 갖는다"
  - 예: "직원들과 팀 빌딩 활동을 제안한다"
- **동적 시나리오**: 당신의 선택 패턴을 분석하여 적절한 새 상황 생성
- **개인화된 피드백**: 각 선택에 대한 맞춤형 결과 메시지

## 게임 오버 조건

다음 상황에서 게임이 조기 종료됩니다:
- 평판이 0 이하로 떨어질 때
- 예산이 0 이하로 떨어질 때
- 직원 만족도가 0 이하로 떨어질 때

2년을 무사히 마치면 최종 점수에 따라 엔딩이 결정됩니다.

## 엔딩 종류

### 성공 엔딩
- **전설적인 소장**: 모든 면에서 탁월한 성과 (점수 80 이상)
- **성공적인 소장**: 훌륭한 성과 달성 (점수 65-80)
- **평범한 소장**: 무난한 임기 완수 (점수 50-65)

### 어려움을 겪은 엔딩
- **고전한 소장**: 많은 어려움 경험 (점수 50 미만)

### 조기 종료 엔딩
- **평판 실추로 소환**
- **예산 위기로 해임**
- **직원 반발로 사임**

### 특별 엔딩
- **현지 자문관의 길**: 현지에 남아 계속 기여
- **본부 기획자의 길**: 본부로 복귀하여 정책 개선
- **새로운 시작**: 새로운 도전 추구

## 게임 팁

### 공통 팁
1. **균형이 중요합니다**: 한 스탯만 높이면 다른 스탯이 희생됩니다
2. **장기적 관점**: 단기적 이득보다 지속 가능성을 고려하세요
3. **관계가 핵심**: 사람들과의 관계가 프로젝트 성공의 열쇠입니다
4. **원칙과 현실**: 때로는 타협이, 때로는 원칙이 필요합니다
5. **문화 이해**: 현지 문화를 존중하는 것이 중요합니다

### AI 모드 전용 팁
1. **창의적으로 행동하세요**: 자유 입력에서 독창적인 해결책 시도
2. **일관성 유지**: AI는 당신의 플레이 스타일을 학습합니다
3. **세부적으로 입력**: 명확하고 구체적인 행동 설명이 더 좋은 결과를 냅니다
4. **실험해보세요**: AI는 예상치 못한 행동에도 합리적으로 반응합니다

## 시나리오 확장

`scenarios.json` 파일을 수정하여 새로운 시나리오를 추가할 수 있습니다.

### 시나리오 구조
```json
{
  "scenario_id": {
    "title": "시나리오 제목",
    "description": "상황 설명",
    "choices": [
      {
        "text": "선택지 텍스트",
        "result": {
          "message": "결과 메시지",
          "stats": {
            "reputation": 10,
            "budget": -5
          },
          "advance_time": true,
          "next": "다음_시나리오_id"
        }
      }
    ]
  }
}
```

## 제작 정보

- **장르**: 텍스트 어드벤처, 시뮬레이션
- **플랫폼**: CLI (Command Line Interface)
- **언어**: Python 3
- **테마**: 국제 개발 협력, 의사결정
- **AI 기술**: Google Gemini 1.5 Pro (선택사항)

## 기술 스택

- **Python 3.6+**: 기본 게임 엔진
- **google-generativeai**: AI 기능 (선택)
- **JSON**: 시나리오 데이터 저장

## AI 모드 특징 상세

### 1. 동적 시나리오 생성
AI가 다음 요소를 고려하여 시나리오를 생성합니다:
- 현재 스탯 상태 (특히 낮은 스탯)
- 최근 방문한 시나리오
- 플레이어의 선택 패턴
- 게임 진행 상황 (년차, 분기)

### 2. 플레이어 스타일 분석
게임은 당신의 선택을 분석하여 성향을 파악합니다:
- **평판 중시형**: 관계와 명성을 우선
- **예산 중시형**: 재정 관리를 중시
- **직원 중시형**: 팀워크와 복지 우선
- **프로젝트 중시형**: 성과와 완성도 중심
- **위험 감수형**: 대담한 결정 선호
- **안정 추구형**: 신중하고 보수적

### 3. 자유 입력 모드
제시된 선택지 외에 원하는 행동을 직접 입력할 수 있습니다:
- 창의적인 해결책 제안
- 복합적인 행동 수행
- 게임 내 제약 없이 실험

AI가 행동의 적절성을 판단하고 스탯 변화를 계산합니다.

### 4. 개인화된 엔딩
일반 엔딩 대신, AI가 당신의 2년간의 여정을 분석하여:
- 주요 결정과 그 영향 요약
- 당신만의 유산(legacy) 서술
- 플레이 스타일에 맞는 미래 전망

## 문제 해결

### AI 모드가 작동하지 않는 경우

1. **패키지 설치 확인**:
```bash
pip list | grep google-generativeai
```

2. **API 키 확인**:
```bash
echo $GEMINI_API_KEY
```

3. **재설치**:
```bash
pip uninstall google-generativeai
pip install google-generativeai
```

### API 키 관련 오류
- API 키가 유효한지 확인
- 인터넷 연결 확인
- Gemini API 할당량 확인

### 클래식 모드로 폴백
AI 모드가 작동하지 않으면 자동으로 클래식 모드로 전환됩니다.

## 라이선스

이 게임은 교육 및 비상업적 목적으로 자유롭게 사용할 수 있습니다.

---

**당신의 선택이 세상을 바꿉니다. 현명하게 선택하세요!**
