#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
scenarios.json에 ASCII 아트를 추가하는 스크립트
"""

import json

# 각 시나리오에 맞는 ASCII 아트 정의
ASCII_ARTS = {
    # 시작 - 새로운 시작 (사무실 책상)
    "start": """
    ╔════════════════════════════╗
    ║  🌍 KOICA 해외사무소 🌍      ║
    ╚════════════════════════════╝
         ___________________
        |  ___   ___   ___  |
        | |   | |   | |   | |
        | | 📋| | 📊| |📁| |
        | |___| |___| |___| |
        |___________________|
        |  💻  ☕  📱  ✍️  |
        |___________________|
           새로운 시작!
    """,

    # Period 2 - PMC 선정과 계약
    "period_2": """
        ┌─────────────────┐
        │   회의실 Table    │
        └─────────────────┘
          _______________
         /               \
        |  📝 계약서 📝    |
        |  ____________   |
        | | 서명: ___   |  |
        | |____________|  |
         \_______________/
           👔  🤝  👔
         PMC 선정 완료
    """,

    # Period 3 - 현장 모니터링
    "period_3": """
       ☀️     ☁️    ☁️
      🚗 ➡️  현장 방문
    ═══════════════════════
        🏗️     👷    🏫
        |      |     |
       건설   모니터  학교
      ___________________
     /                   \
    |  현장 점검 중...       |
     \___________________/
    """,

    # Period 4 - 중간점검
    "period_4": """
        📋 중간 점검표 📋
       ┌─────────────────┐
       │ ✅ 진행사항 확인   │
       │ ✅ 예산 점검      │
       │ ✅ 품질 평가      │
       │ ⬜ 개선 필요      │
       └─────────────────┘
         📊 → 📈 → 📉
        분석 및 평가 중
    """,

    # Period 5 - 프로젝트 점검과 봉사단
    "period_5": """
         🏗️ 프로젝트 현황 🏗️
       ┌──────┐  ┌──────┐
       │  50% │  │  75% │
       │  ▓▓▓▓│  │▓▓▓▓▓▓│
       └──────┘  └──────┘
           👋 봉사단 환송
         🎓 → ✈️ → 🏠
        감사와 이별의 시간
    """,

    # Period 6 - 연말 정산
    "period_6": """
       📅 연말 결산 📅
      ┌─────────────────┐
      │  📊 Annual       │
      │     Report       │
      │  ═══════════     │
      │  Budget: ✅      │
      │  Goals:  ✅      │
      │  Team:   ✅      │
      └─────────────────┘
        🎉 1년차 완료!
    """,

    # Period 7 - 2년차 시작
    "period_7": """
       🎊 2년차 시작! 🎊
      ┌─────────────────┐
      │   새로운 도전      │
      │   ___________   │
      │  |  2차년도  |    │
      │  |  계획 수립 |   │
      │  |___________|  │
      └─────────────────┘
         💪 경험을 바탕으로
    """,

    # Period 8 - 대사관 협력
    "period_8": """
        🏛️ 대사관 협력 🏛️
       ┌─────────────────┐
       │   🇰🇷 대한민국     │
       │      대사관       │
       └─────────────────┘
          👥 ↔️ 👥
        협력 관계 구축
         🤝 외교 협력
    """,

    # Period 9 - 위기관리
    "period_9": """
        ⚠️ 위기관리 ⚠️
       ┌─────────────────┐
       │  긴급 상황 발생     │
       │   ⚡ → 🛡️ → ✅ │
       │                 │
       │  신속한 대응       │
       └─────────────────┘
         📞 → 🚨 → 💡
    """,

    # Period 10 - 평가단 방문
    "period_10": """
       🔍 평가단 방문 🔍
      ┌─────────────────┐
      │  ✈️ 본부 평가단    │
      │                 │
      │  📋 점검항목:     │
      │  □ 성과          │
      │  □ 품질          │
      │  □ 지속가능성      │
      └─────────────────┘
    """,

    # Period 11 - 마무리 준비
    "period_11": """
       ⏰ 마무리 준비 ⏰
      ┌─────────────────┐
      │  임기 종료 임박     │
      │   ░░░░░░▓▓▓▓    │
      │   90% 완료       │
      │                 │
      │  인수인계 준비      │
      └─────────────────┘
    """,

    # Period 12 - 마지막 달
    "period_12": """
       🎯 마지막 달 🎯
      ┌─────────────────┐
      │  최종 마무리       │
      │  ▓▓▓▓▓▓▓▓▓▓ 100%│
      │                 │
      │  📦 인수인계      │
      │  🎤 고별사       │
      └─────────────────┘
         새로운 여정으로...
    """,

    # 긍정적 엔딩들
    "ending_headquarters": """
       ✈️ 본부 귀환 ✈️
      ┌─────────────────┐
      │  🏢 KOICA 본부   │
      │                 │
      │  정책 전문가로      │
      │  새로운 시작!      │
      │                 │
      │   🌟 승진 🌟     │
      └─────────────────┘
    """,

    "ending_new_challenge": """
       🚪 새로운 문 🚪
      ┌─────────────────┐
      │    .─────.      │
      │   /       \\    │
      │  │  NEW!   │    │
      │   \\       /    │
      │    `─────'      │
      │   새로운 도전      │
      └─────────────────┘
         💫 더 큰 무대로!
    """,

    "ending_local_advisor": """
       🌱 뿌리내린 변화 🌱
      ┌─────────────────┐
      │       🌳        │
      │      /|\\       │
      │     / | \\      │
      │   🌱 🌱 🌱     │
      │                 │
      │  현지 전문가로      │
      └─────────────────┘
    """,

    "ending_extension": """
       ⏳ 연장 근무 ⏳
      ┌─────────────────┐
      │   📅 + 1 Year   │
      │                 │
      │  진짜 변화는       │
      │  시간이 필요       │
      │                 │
      │   🔄 계속...     │
      └─────────────────┘
    """,

    # 부정적 엔딩들
    "ending_reputation_loss": """
       💔 평판 추락 💔
      ┌─────────────────┐
      │      ⭐         │
      │       ↓         │
      │        ↓        │
      │         💥      │
      │                 │
      │  신뢰 상실...     │
      └─────────────────┘
    """,

    "ending_budget_crisis": """
       💸 예산 파탄 💸
      ┌─────────────────┐
      │   💰 → 📉 → ❌ │
      │                 │
      │   빈 지갑...      │
      │   ┌─────┐       │
      │   │  🕳️ │       │
      │   └─────┘       │
      └─────────────────┘
    """,

    "ending_staff_revolt": """
       ⚡ 조직 붕괴 ⚡
      ┌─────────────────┐
      │   👥 → 💔 → 👤 │
      │                 │
      │   팀워크 파괴      │
      │      🔥         │
      │    🧱💥🧱      │
      └─────────────────┘
    """,

    "ending_burnout": """
       🔋 번아웃 🔋
      ┌─────────────────┐
      │   Energy: 0%    │
      │   ▓▓▓░░░░░░░    │
      │                 │
      │      😰         │
      │   완전 소진...     │
      └─────────────────┘
    """,

    "ending_health_crisis": """
       🏥 건강 위기 🏥
      ┌─────────────────┐
      │       ⚕️        │
      │    ┌─────┐      │
      │    │  +  │      │
      │    └─────┘      │
      │                 │
      │  건강을 잃다...    │
      └─────────────────┘
    """
}

def add_ascii_art_to_scenarios():
    """scenarios.json에 ASCII 아트 추가"""

    # scenarios.json 읽기
    with open('scenarios.json', 'r', encoding='utf-8') as f:
        scenarios = json.load(f)

    # 각 시나리오에 ASCII 아트 추가
    added_count = 0
    for scenario_key, ascii_art in ASCII_ARTS.items():
        if scenario_key in scenarios:
            scenarios[scenario_key]['ascii_art'] = ascii_art.strip()
            added_count += 1
            print(f"✅ '{scenario_key}' 시나리오에 ASCII 아트 추가")
        else:
            print(f"⚠️  '{scenario_key}' 시나리오를 찾을 수 없습니다")

    # 백업 생성
    import shutil
    import datetime
    backup_name = f"scenarios.json.backup_{datetime.datetime.now().strftime('%Y%m%d_%H%M%S')}"
    shutil.copy('scenarios.json', backup_name)
    print(f"\n📋 백업 생성: {backup_name}")

    # 수정된 데이터 저장
    with open('scenarios.json', 'w', encoding='utf-8') as f:
        json.dump(scenarios, f, ensure_ascii=False, indent=2)

    print(f"\n✨ 총 {added_count}개 시나리오에 ASCII 아트가 추가되었습니다!")
    print(f"📊 전체 시나리오: {len(scenarios)}개")

if __name__ == "__main__":
    add_ascii_art_to_scenarios()
